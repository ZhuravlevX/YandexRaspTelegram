# Yandex Rasp Telegram (Python)

**Yandex Raspisaniye Telegram** *(Python)* – это бот написанный на языке «Python», позволяющий узнать расписание ближайших электричек от станции отправления.
### Откуда берутся данные об расписаниях
Информацию об расписаниях бот получает благодаря [Яндекс.Расписаний](https://t.rasp.yandex.ru/)и выводит их сообщением. Данные бот получает при помощи [API Яндекс.Расписаний](https://yandex.ru/dev/rasp/). API организован в соответствии с принципами REST. Взаимодействие с API осуществляется по протоколу HTTPS посредством GET-запросов. Сервис возвращает данные в форматах: JSON, XML.
### Функционал бота

- Вывод актуальных расписаний электричек на текущую дату по указанному направлению при условии, если нету авто-обновления у другого расписания.
- Изменение направления маршрута в расписании.
- Авто-обновление последнего вызванного пользователем расписание в течении часа, а также в случае необходимости отмены авто-обновления.
- Информирование о том, что бот завершил работы по каким-то причинам.
- Случайное отображение фотографий электричек для разнообразия.
### Расписание

Бот при вызове расписания выводит следующую информацию:
- Номер поезда и направление с сообщением.
- Откуда отправляется и во сколько.
- Остановки вовремя поездки.
- Стоимость билета в рублях.
- Тип поезда, например: «Стандарт плюс» и компания, обслуживающая данную электричку.

В случае отсутствия информации в одном из полей, будет заменятся на "Неизвестно". В случае изменения оформления расписания бота или дополнение расписание дополнительной информацией об электричке, ознакомьтесь с документацией [«Расписание рейсов по станции»](https://yandex.ru/dev/rasp/doc/ru/reference/schedule-on-station) на [API Яндекс.Расписание](https://yandex.ru/dev/rasp/doc/ru/).

### Установка бота
 В данном боте используются следующие библиотеки, требуемые к установке:
 - `Aiogram` – версии 3.15.0
 - `Requests` – версии 2.32.3
 - `Babel` – версии 2.16.0
 - `Pytz` – версии 2024.2

Для их быстрой установки, вы можете воспользоваться **Poetry**. Для этого нужно ознакомится с [документацией](https://python-poetry.org/docs/#installation) установки в проект.
### Конфигурация бота
В боте вы можете поменять значения по своему удобству и желанию. На текущий момент для изменения, доступны следующие параметры:
- `token_yandex` – токен Яндекса, который нужно получить на сайте [API Яндекс Расписаний](https://yandex.ru/dev/rasp/raspapi#examples), иначе бот работать не будет.
- `token_bot` – токен бота Telegram на который будут отправляться данные и получать ответные, который можно получить у [BotFather](https://telegram.me/botfather).
- `image_url` – ссылка изображений, которые будут случайно выводиться. Формат *.webp* не поддерживается, иначе бот не будет корректно работать.
### Авторы и авторские права
Данный бот имеет лицензию **«MIT License»**. Поскольку авторские права на данную лицензию отсутствует, другие имеют право использовать и изменять её для удовлетворения своих целей.

- **ZhuravlevX** – идея и реализатор идеи на Python.
- **KryptonFox** – реализатор идеи JavaScript и Python.

Исходником данных об расписаниях является [Яндекс.Расписания](https://t.rasp.yandex.ru/).
